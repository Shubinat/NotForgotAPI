# NotForgotAPI

API содержащая в себе пользователей, их заметки и распределение этих заметок по категориям.

## Основные методы

### Users

#### Авторизация

POST-метод для авторизации пользователя, принимающий логин и пароль пользователя, а возвращающий пользователя и его токен (длительность токена - 1 час, схема - "Bearer")

```
/api/Users/auth
```

Пример запроса:
```
{
  "login": "admin",
  "password": "1234"
}
```

Пример ответа:
```
{
  "acess_token": "jhGFkFLjFKhgJhdkucliFLUjkhfhljhfffGYLIyf",
  "user": {
    "id": 19,
    "name": "Иванов Иван Иванович", 
    "login": "admin",
    "password": "1234"
  }
}
```

#### Регистрация

POST-метод для регистрации пользователя, принимающий данные о пользователе, а возвращающий добавленого пользователя

```
/api/Users/register
```

Пример запроса:
```
{
    "name": "Иванов Иван Иванович", 
    "login": "admin",
    "password": "1234"
}
```


### Categories

#### Получение списка всех категорий

GET-метод для получения списка категорий авторизованного пользователя

```
/api/Categories
```

Пример ответа:
```
[{
  "id": 1,
  "name": "Учеба"
},
{
  "id": 2,
  "name": "Работа"
},
...
]
```

#### Добавление категории

POST-метод для добавление категории пользователя, принимающий название категории, и возврещающий добавленную категорию

```
/api/Categories
```

Пример запроса:
```
{
    "name": "Работа", 
}
```

Пример ответа:
```
{
    "id": 1,
    "name": "Работа", 
}
```
Может быть возвращен ответ 400 (Bad Request), в случае пропущеных данных или существовании данной категории.

### Notes

#### Получение списка всех заметок
GET-метод для получения списка заметок авторизованного пользователя

```
/api/Notes/
```

Пример ответа:
```
[{
  "id": 1,
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "creation_date": "2023-01-13",
  "completion_date": "2023-01-24",
  "is_completed": false,
  "category_id": 2,
  "priority": 1
},
...
]
```
#### Получение заметки по id

GET-метод для получения заметки по ее id

```
/api/Notes/{id}
```

Пример ответа:
```
{
  "id": 1,
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "creation_date": "2023-01-13",
  "completion_date": "2023-01-24",
  "is_completed": false,
  "category_id": 2,
  "priority": 1
}
```

#### Добавление заметки

POST-метод для добавления заметки авторизованного пользователя, принимающий данные для добавления, возвращающий добавленную заметку

```
/api/Notes
```

Пример запроса:
```
{
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "completion_date": "2023-01-24",
  "category_id": 2,
  "priority": 1
}

```
Пример ответа:
```
{
  "id": 1,
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "creation_date": "2023-01-13",
  "completion_date": "2023-01-24",
  "is_completed": false,
  "category_id": 2,
  "priority": 1
}
```

#### Редактирование заметки

PUT-метод для редактирования заметки по id авторизованного пользователя, принимающий редактированную заметку, возвращающий результат редактирования

```
/api/Notes/{id}
```

Пример запроса:
```
{
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "completion_date": "2023-01-24",
  "category_id": 2,
  "priority": 1
}
```

Пример ответа:
```
{
  "id": 1,
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "creation_date": "2023-01-13",
  "completion_date": "2023-01-24",
  "is_completed": false,
  "category_id": 2,
  "priority": 1
}
```

#### Удаление заметки

DELETE-метод для удаления заметки по id авторизованного пользователя

```
/api/Notes/{id}
```


Пример ответа:
```
{
  "id": 1,
  "title": "Научиться играть на гитаре",
  "description": "Хотя бы базовым навыкам, выучить блатные аккорды, для того чтобы играть большую часть дворовых песен",
  "creation_date": "2023-01-13",
  "completion_date": "2023-01-24",
  "is_completed": false,
  "category_id": 2,
  "priority": 1
}
```
